{% extends "base1.html" %}

{% block title %}Listado de Medicamentos - EGMed{% endblock %}

{% block content %}
<h1>Listado de Medicamentos</h1>

<table class="table table-striped mt-3">
    <thead>
        <tr>
            <th>Nombre</th>
            <th>Fabricante</th>
            <th>Forma farmacéutica</th>
            <th>Concentración</th>
            <th>Unidad</th>
            <th>Precio (FCFA)</th>
            <th>Stock</th>
            <th>Farmacia</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        {% for m in medicamentos %}
        <tr>
            <td>{{ m.nombre_local }}</td>
            <td>{{ m.fabricante or '-' }}</td>
            <td>{{ m.forma_farmaceutica or '-' }}</td>
            <td>{{ m.concentracion or '-' }}</td>
            <td>{{ m.unidad or '-' }}</td>
            <td>{{ m.precio or '-' }}</td>
            <td>{{ m.stock or '-' }}</td>
            <td>{{ m.farmacia.nombre if m.farmacia else '-' }}</td>
            <td>
                <a href="{{ url_for('clientes.ver_detalle_medicamento', id=m.id) }}" class="btn btn-sm btn-info">
                    Detalle
                </a>
            </td>
        </tr>
        {% else %}
        <tr>
            <td colspan="9" class="text-center">No hay medicamentos disponibles</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<!-- Inicializar tooltips de Bootstrap si se usan -->
<script>
  var tooltipTriggerList = [].slice.call(document.querySelectorAll('[title]'))
  var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
    return new bootstrap.Tooltip(tooltipTriggerEl)
  })
</script>
{% endblock %}
